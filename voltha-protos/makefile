# -*- makefile -*-
## -----------------------------------------------------------------------
## -----------------------------------------------------------------------

sandbox ?= ../sandbox

all : check

## -----------------------------------------------------------------------
## -----------------------------------------------------------------------
.PHONY: check
# cargs += --debug
cargs += --triage # check for release string != *-dev

check:
	@echo
	@printf '** -----------------------------------------------------------------------\n'
	@printf '** %-10.10s: %s\n' 'PWD' "$(PWD)"
	@printf '** %-10.10s: %s\n' 'TARGET' "$@"
	@printf '** -----------------------------------------------------------------------\n'
	./probe.sh $(cargs) --sandbox "$(sandbox)"

## -----------------------------------------------------------------------
## -----------------------------------------------------------------------
sterile ::
	$(RM) overrides/voltha-protos/VERSION

## -----------------------------------------------------------------------
## -----------------------------------------------------------------------
view ::
	pandloc README.md | lynx -stdin

## -----------------------------------------------------------------------
## -----------------------------------------------------------------------
help ::
	@printf '  %-30.30s %s\n' 'sterile'\
	  'Remove validation overrides for repo:voltha-protos checking'
	@printf '  %-30.30s %s\n' 'view'\
	  'Render and view README.md interactively.'

## -----------------------------------------------------------------------
## -----------------------------------------------------------------------
voltha-protos-help :
	@printf '  %-30.30s %s\n' 'check'\
	  'Verify consistent version use across charts'

# [EOF]
